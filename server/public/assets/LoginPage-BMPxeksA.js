import{u as S,a as b,b as v,r as i,j as e,I as u,B as L,S as G,G as C,L as x}from"./index-Cl1SQMCp.js";import{L as p}from"./label-DJCwXsjE.js";import{C as I,a as P,b as F,c as k,d as A,e as B}from"./card-mR9xUq05.js";import{I as h}from"./icons-DO8VyPGD.js";import{t as a}from"./index-MnOYjBE-.js";import{u as M,t as T,o as W,s as f}from"./zod-Cx2om5l9.js";import"./leaf-DQch67_8.js";import"./briefcase-ChOFTStc.js";const D=W({email:f().email({message:" Please Enter Email or Invalid Email Address"}),password:f().min(6,{message:"Password Must Be Required"})}),U=()=>{const r=S(),[j,{isSuccess:n,isError:l,isLoading:c}]=b(),[y,{isSuccess:d,isError:m}]=v(),{register:g,handleSubmit:w,formState:{errors:t}}=M({resolver:T(D)}),N=async o=>{try{const{credential:s}=o;await y({credential:s}).unwrap()}catch(s){console.log((s==null?void 0:s.message)||"Google login failed")}},E=async o=>{try{await j(o).unwrap()}catch{console.log(" error?.message ||  Login failed. Please try again.")}};return i.useEffect(()=>{n&&(a.success("Login successfully"),r("/admin"))},[n,r]),i.useEffect(()=>{d&&(a.success(" Google Login successfully"),r("/admin"))},[d,r]),i.useEffect(()=>{l&&a.error("Login failed. Please try again.")},[l]),i.useEffect(()=>{m&&a.error("  Google ErrorLogin failed. Please try again.")},[m]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:e.jsxs(I,{className:"w-full max-w-md",children:[e.jsxs(P,{className:"space-y-1",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(h.leaf,{className:"h-8 w-8 text-green-600"})}),e.jsx(F,{className:"text-2xl text-center",children:"Welcome back"}),e.jsx(k,{className:"text-center",children:"Sign in to your account to continue"})]}),e.jsxs(A,{children:[e.jsxs("form",{onSubmit:w(E),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"email",children:"Email"}),e.jsx(u,{id:"email",type:"email",placeholder:"Enter your email",...g("email")}),t.email&&e.jsx("p",{className:"text-red-500 text-sm",children:t.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"password",children:"Password"}),e.jsx(u,{id:"password",type:"password",placeholder:"Enter your password",...g("password")}),t.password&&e.jsx("p",{className:"text-red-500 text-sm",children:t.password.message})]}),e.jsxs(L,{type:"submit",className:"w-full bg-green-600",disabled:c,children:[c&&e.jsx(h.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign In"]})]}),e.jsx(G,{className:"my-6"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(C,{onSuccess:N,onError:()=>a.error("Google login failed"),theme:"outline",size:"large",width:"100%"})})]}),e.jsx("div",{className:"text-right",children:e.jsx(x,{to:"/forgot-password",className:"text-sm text-green-600 hover:underline",children:"Forgot password?"})}),e.jsx(B,{children:e.jsxs("div",{className:"text-sm text-center w-full",children:["Don't have an account?"," ",e.jsx(x,{to:"/register",className:"text-green-700 hover:underline",children:"Sign up"})]})})]})})};export{U as default};
