import{r,j as i,a8 as we,a9 as me,aa as ve,ab as b,ac as W,ad as A,ae as te,af as Ee,ag as xe,ah as ye,ai as he,aj as Pe,ak as Ce,al as be}from"./index-Cl1SQMCp.js";import{c as Re}from"./index-7vMckiJz.js";import{V as se}from"./index-zu5Pjoey.js";var G="ToastProvider",[J,ge,Se]=Re("Toast"),[oe,Ze]=we("Toast",[Se]),[Ie,X]=oe(G),re=e=>{const{__scopeToast:s,label:o="Notification",duration:t=5e3,swipeDirection:u="right",swipeThreshold:d=50,children:p}=e,[w,m]=r.useState(null),[n,C]=r.useState(0),x=r.useRef(!1),D=r.useRef(!1);return o.trim()||console.error(`Invalid prop \`label\` supplied to \`${G}\`. Expected non-empty \`string\`.`),i.jsx(J.Provider,{scope:s,children:i.jsx(Ie,{scope:s,label:o,duration:t,swipeDirection:u,swipeThreshold:d,toastCount:n,viewport:w,onViewportChange:m,onToastAdd:r.useCallback(()=>C(g=>g+1),[]),onToastRemove:r.useCallback(()=>C(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:D,children:p})})};re.displayName=G;var ne="ToastViewport",Fe=["F8"],B="toast.viewportPause",q="toast.viewportResume",ae=r.forwardRef((e,s)=>{const{__scopeToast:o,hotkey:t=Fe,label:u="Notifications ({hotkey})",...d}=e,p=X(ne,o),w=ge(o),m=r.useRef(null),n=r.useRef(null),C=r.useRef(null),x=r.useRef(null),D=te(s,x,p.onViewportChange),g=t.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=p.toastCount>0;r.useEffect(()=>{const c=y=>{var T;t.length!==0&&t.every(v=>y[v]||y.code===v)&&((T=x.current)==null||T.focus())};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[t]),r.useEffect(()=>{const c=m.current,y=x.current;if(S&&c&&y){const f=()=>{if(!p.isClosePausedRef.current){const h=new CustomEvent(B);y.dispatchEvent(h),p.isClosePausedRef.current=!0}},T=()=>{if(p.isClosePausedRef.current){const h=new CustomEvent(q);y.dispatchEvent(h),p.isClosePausedRef.current=!1}},v=h=>{!c.contains(h.relatedTarget)&&T()},E=()=>{c.contains(document.activeElement)||T()};return c.addEventListener("focusin",f),c.addEventListener("focusout",v),c.addEventListener("pointermove",f),c.addEventListener("pointerleave",E),window.addEventListener("blur",f),window.addEventListener("focus",T),()=>{c.removeEventListener("focusin",f),c.removeEventListener("focusout",v),c.removeEventListener("pointermove",f),c.removeEventListener("pointerleave",E),window.removeEventListener("blur",f),window.removeEventListener("focus",T)}}},[S,p.isClosePausedRef]);const l=r.useCallback(({tabbingDirection:c})=>{const f=w().map(T=>{const v=T.ref.current,E=[v,...$e(v)];return c==="forwards"?E:E.reverse()});return(c==="forwards"?f.reverse():f).flat()},[w]);return r.useEffect(()=>{const c=x.current;if(c){const y=f=>{var E,h,I;const T=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!T){const j=document.activeElement,N=f.shiftKey;if(f.target===c&&N){(E=n.current)==null||E.focus();return}const F=l({tabbingDirection:N?"backwards":"forwards"}),k=F.findIndex(a=>a===j);Y(F.slice(k+1))?f.preventDefault():N?(h=n.current)==null||h.focus():(I=C.current)==null||I.focus()}};return c.addEventListener("keydown",y),()=>c.removeEventListener("keydown",y)}},[w,l]),i.jsxs(Ee,{ref:m,role:"region","aria-label":u.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&i.jsx(z,{ref:n,onFocusFromOutsideViewport:()=>{const c=l({tabbingDirection:"forwards"});Y(c)}}),i.jsx(J.Slot,{scope:o,children:i.jsx(A.ol,{tabIndex:-1,...d,ref:D})}),S&&i.jsx(z,{ref:C,onFocusFromOutsideViewport:()=>{const c=l({tabbingDirection:"backwards"});Y(c)}})]})});ae.displayName=ne;var ie="ToastFocusProxy",z=r.forwardRef((e,s)=>{const{__scopeToast:o,onFocusFromOutsideViewport:t,...u}=e,d=X(ie,o);return i.jsx(se,{"aria-hidden":!0,tabIndex:0,...u,ref:s,style:{position:"fixed"},onFocus:p=>{var n;const w=p.relatedTarget;!((n=d.viewport)!=null&&n.contains(w))&&t()}})});z.displayName=ie;var O="Toast",Ne="toast.swipeStart",_e="toast.swipeMove",Ae="toast.swipeCancel",De="toast.swipeEnd",ce=r.forwardRef((e,s)=>{const{forceMount:o,open:t,defaultOpen:u,onOpenChange:d,...p}=e,[w,m]=me({prop:t,defaultProp:u??!0,onChange:d,caller:O});return i.jsx(ve,{present:o||w,children:i.jsx(Me,{open:w,...p,ref:s,onClose:()=>m(!1),onPause:W(e.onPause),onResume:W(e.onResume),onSwipeStart:b(e.onSwipeStart,n=>{n.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:b(e.onSwipeMove,n=>{const{x:C,y:x}=n.detail.delta;n.currentTarget.setAttribute("data-swipe","move"),n.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${C}px`),n.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:b(e.onSwipeCancel,n=>{n.currentTarget.setAttribute("data-swipe","cancel"),n.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),n.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),n.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),n.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:b(e.onSwipeEnd,n=>{const{x:C,y:x}=n.detail.delta;n.currentTarget.setAttribute("data-swipe","end"),n.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),n.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),n.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${C}px`),n.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),m(!1)})})})});ce.displayName=O;var[je,Le]=oe(O,{onClose(){}}),Me=r.forwardRef((e,s)=>{const{__scopeToast:o,type:t="foreground",duration:u,open:d,onClose:p,onEscapeKeyDown:w,onPause:m,onResume:n,onSwipeStart:C,onSwipeMove:x,onSwipeCancel:D,onSwipeEnd:g,...S}=e,l=X(O,o),[c,y]=r.useState(null),f=te(s,a=>y(a)),T=r.useRef(null),v=r.useRef(null),E=u||l.duration,h=r.useRef(0),I=r.useRef(E),j=r.useRef(0),{onToastAdd:N,onToastRemove:U}=l,_=W(()=>{var P;(c==null?void 0:c.contains(document.activeElement))&&((P=l.viewport)==null||P.focus()),p()}),F=r.useCallback(a=>{!a||a===1/0||(window.clearTimeout(j.current),h.current=new Date().getTime(),j.current=window.setTimeout(_,a))},[_]);r.useEffect(()=>{const a=l.viewport;if(a){const P=()=>{F(I.current),n==null||n()},R=()=>{const L=new Date().getTime()-h.current;I.current=I.current-L,window.clearTimeout(j.current),m==null||m()};return a.addEventListener(B,R),a.addEventListener(q,P),()=>{a.removeEventListener(B,R),a.removeEventListener(q,P)}}},[l.viewport,E,m,n,F]),r.useEffect(()=>{d&&!l.isClosePausedRef.current&&F(E)},[d,E,l.isClosePausedRef,F]),r.useEffect(()=>(N(),()=>U()),[N,U]);const k=r.useMemo(()=>c?pe(c):null,[c]);return l.viewport?i.jsxs(i.Fragment,{children:[k&&i.jsx(Oe,{__scopeToast:o,role:"status","aria-live":t==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),i.jsx(je,{scope:o,onClose:_,children:xe.createPortal(i.jsx(J.ItemSlot,{scope:o,children:i.jsx(ye,{asChild:!0,onEscapeKeyDown:b(w,()=>{l.isFocusedToastEscapeKeyDownRef.current||_(),l.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(A.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":l.swipeDirection,...S,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:b(e.onKeyDown,a=>{a.key==="Escape"&&(w==null||w(a.nativeEvent),a.nativeEvent.defaultPrevented||(l.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:b(e.onPointerDown,a=>{a.button===0&&(T.current={x:a.clientX,y:a.clientY})}),onPointerMove:b(e.onPointerMove,a=>{if(!T.current)return;const P=a.clientX-T.current.x,R=a.clientY-T.current.y,L=!!v.current,M=["left","right"].includes(l.swipeDirection),V=["left","up"].includes(l.swipeDirection)?Math.min:Math.max,fe=M?V(0,P):0,Te=M?0:V(0,R),$=a.pointerType==="touch"?10:2,K={x:fe,y:Te},Z={originalEvent:a,delta:K};L?(v.current=K,H(_e,x,Z,{discrete:!1})):ee(K,l.swipeDirection,$)?(v.current=K,H(Ne,C,Z,{discrete:!1}),a.target.setPointerCapture(a.pointerId)):(Math.abs(P)>$||Math.abs(R)>$)&&(T.current=null)}),onPointerUp:b(e.onPointerUp,a=>{const P=v.current,R=a.target;if(R.hasPointerCapture(a.pointerId)&&R.releasePointerCapture(a.pointerId),v.current=null,T.current=null,P){const L=a.currentTarget,M={originalEvent:a,delta:P};ee(P,l.swipeDirection,l.swipeThreshold)?H(De,g,M,{discrete:!0}):H(Ae,D,M,{discrete:!0}),L.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),l.viewport)})]}):null}),Oe=e=>{const{__scopeToast:s,children:o,...t}=e,u=X(O,s),[d,p]=r.useState(!1),[w,m]=r.useState(!1);return Xe(()=>p(!0)),r.useEffect(()=>{const n=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(n)},[]),w?null:i.jsx(he,{asChild:!0,children:i.jsx(se,{...t,children:d&&i.jsxs(i.Fragment,{children:[u.label," ",o]})})})},ke="ToastTitle",Ve=r.forwardRef((e,s)=>{const{__scopeToast:o,...t}=e;return i.jsx(A.div,{...t,ref:s})});Ve.displayName=ke;var Ke="ToastDescription",He=r.forwardRef((e,s)=>{const{__scopeToast:o,...t}=e;return i.jsx(A.div,{...t,ref:s})});He.displayName=Ke;var ue="ToastAction",We=r.forwardRef((e,s)=>{const{altText:o,...t}=e;return o.trim()?i.jsx(de,{altText:o,asChild:!0,children:i.jsx(Q,{...t,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${ue}\`. Expected non-empty \`string\`.`),null)});We.displayName=ue;var le="ToastClose",Q=r.forwardRef((e,s)=>{const{__scopeToast:o,...t}=e,u=Le(le,o);return i.jsx(de,{asChild:!0,children:i.jsx(A.button,{type:"button",...t,ref:s,onClick:b(e.onClick,u.onClose)})})});Q.displayName=le;var de=r.forwardRef((e,s)=>{const{__scopeToast:o,altText:t,...u}=e;return i.jsx(A.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":t||void 0,...u,ref:s})});function pe(e){const s=[];return Array.from(e.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&s.push(t.textContent),Ue(t)){const u=t.ariaHidden||t.hidden||t.style.display==="none",d=t.dataset.radixToastAnnounceExclude==="";if(!u)if(d){const p=t.dataset.radixToastAnnounceAlt;p&&s.push(p)}else s.push(...pe(t))}}),s}function H(e,s,o,{discrete:t}){const u=o.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:o});s&&u.addEventListener(e,s,{once:!0}),t?Pe(u,d):u.dispatchEvent(d)}var ee=(e,s,o=0)=>{const t=Math.abs(e.x),u=Math.abs(e.y),d=t>u;return s==="left"||s==="right"?d&&t>o:!d&&u>o};function Xe(e=()=>{}){const s=W(e);Ce(()=>{let o=0,t=0;return o=window.requestAnimationFrame(()=>t=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(t)}},[s])}function Ue(e){return e.nodeType===e.ELEMENT_NODE}function $e(e){const s=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const u=t.tagName==="INPUT"&&t.type==="hidden";return t.disabled||t.hidden||u?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)s.push(o.currentNode);return s}function Y(e){const s=document.activeElement;return e.some(o=>o===s?!0:(o.focus(),document.activeElement!==s))}var Ye=re,Be=ae,qe=ce,ze=Q;function et({type:e="success",message:s}){return i.jsxs(Ye,{swipeDirection:"right",children:[i.jsx(qe,{className:"bg-white border rounded-md shadow-md p-4",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:e==="success"?"text-green-600":"text-red-600",children:s}),i.jsx(ze,{children:i.jsx(be,{className:"h-4 w-4 cursor-pointer"})})]})}),i.jsx(Be,{})]})}export{et as T};
