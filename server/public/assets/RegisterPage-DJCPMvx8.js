import{u as N,c as j,r as d,j as s,I as t,B as w,L as g}from"./index-Cl1SQMCp.js";import{u as y,t as v,o as P,s as i}from"./zod-Cx2om5l9.js";import{t as x}from"./index-MnOYjBE-.js";import{L as l}from"./label-DJCwXsjE.js";import{C as b,a as C,b as F,c as L,d as S,e as E}from"./card-mR9xUq05.js";import{I as p}from"./icons-DO8VyPGD.js";import"./leaf-DQch67_8.js";import"./briefcase-ChOFTStc.js";const I=P({firstName:i().min(2,"First name is required"),lastName:i().min(2,"Last name is required"),email:i().email("Invalid email"),phone:i().min(10,"Phone is required"),password:i().min(6,"Password must be at least 6 characters"),confirmPassword:i()}).refine(m=>m.password===m.confirmPassword,{path:["confirmPassword"],message:"Passwords do not match"}),M=()=>{const m=N(),[h,{isSuccess:c,isError:n,isLoading:o}]=j(),{register:a,handleSubmit:f,formState:{errors:e}}=y({resolver:v(I)}),u=async r=>{try{await h({firstName:r.firstName,lastName:r.lastName,email:r.email,phone:r.phone,password:r.password,confirmPassword:r.confirmPassword}).unwrap()}catch{console.log("failed")}};return d.useEffect(()=>{c&&(x.success("Lease created successfully!"),m("/login"))},[c]),d.useEffect(()=>{n&&x.error("Registration failed")},[n]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:s.jsxs(b,{className:"w-full  max-w-2xl",children:[s.jsxs(C,{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx(p.sprout,{className:"h-10 w-20 text-green-400"}),"                  "]}),s.jsx(F,{className:"text-2xl text-center",children:"Create an account"}),s.jsx(L,{className:"text-center",children:"Join our community of farmers and agricultural enthusiasts"})]}),s.jsx(S,{children:s.jsxs("form",{onSubmit:f(u),className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-x-4",children:[s.jsxs("div",{className:"space-y-2 w-full",children:[s.jsx(l,{htmlFor:"firstName",children:"First Name"}),s.jsx(t,{id:"firstName",...a("firstName")}),e.firstName&&s.jsx("p",{className:"text-sm text-red-500",children:e.firstName.message})]}),s.jsxs("div",{className:"space-y-2 w-full",children:[s.jsx(l,{htmlFor:"lastName",children:"Last Name"}),s.jsx(t,{id:"lastName",className:"w-full",...a("lastName")}),e.lastName&&s.jsx("p",{className:"text-sm text-red-500",children:e.lastName.message})]})]}),s.jsxs("div",{className:"flex gap-x-4",children:[s.jsxs("div",{className:"space-y-2 w-full",children:[s.jsx(l,{htmlFor:"email",children:"Email"}),s.jsx(t,{id:"email",type:"email",...a("email")}),e.email&&s.jsx("p",{className:"text-sm text-red-500",children:e.email.message})]}),s.jsxs("div",{className:"space-y-2 w-full",children:[s.jsx(l,{htmlFor:"phone",children:"Phone"}),s.jsx(t,{id:"phone",type:"tel",...a("phone")}),e.phone&&s.jsx("p",{className:"text-sm text-red-500",children:e.phone.message})]})]}),s.jsxs("div",{className:"flex gap-x-4",children:[s.jsxs("div",{className:"space-y-2 w-full",children:[s.jsx(l,{htmlFor:"password",children:"Password"}),s.jsx(t,{id:"password",type:"password",...a("password")}),e.password&&s.jsx("p",{className:"text-sm text-red-500",children:e.password.message})]}),s.jsxs("div",{className:"space-y-2 w-full",children:[s.jsx(l,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(t,{id:"confirmPassword",type:"password",...a("confirmPassword")}),e.confirmPassword&&s.jsx("p",{className:"text-sm text-red-500",children:e.confirmPassword.message})]})]}),s.jsxs(w,{type:"submit",className:"w-full bg-green-400",disabled:o,children:[o&&s.jsx(p.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Account"]})]})}),s.jsx(E,{children:s.jsxs("div",{className:"text-sm text-center w-full",children:["Already have an account?"," ",s.jsx(g,{to:"/login",className:"text-green-700 hover:underline",children:"Sign in"})]})})]})})};export{M as default};
